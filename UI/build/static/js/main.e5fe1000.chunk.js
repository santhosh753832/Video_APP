(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAMxJREFUeNrsl9ENgzAMRGMm6AiM0JFgBCboKGaTsgFswAiwQWoQkfJRVQQhNQd3kpXf9+JEcZxjGOaUeO8fViUyfG81WT1R4UNwJL7A40j8gM9fYgd8vhIJ8CEjMnw+HSA84QlPeMJfEl5ieFveVilAjdXwd4GD8Fmk2NYXIvzagW33J9SvbIG687HAjCwQLvEys5eoHVhSIx8hJyIdskT8Elc+LUoJSlCCEpSgBCVOmIX2T38i7Z3GDkWWUOROKPJxUuQ7oY5hsPIRYABvzTavpLSmGQAAAABJRU5ErkJggg=="},33:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAkRJREFUeNrsmdFxwjAMhh0m8AjZoNmg2QBGSDdgg2YT6AShE4ROEJggbBA2cOU7p8dxiSxsyyE0utPlAbD5bOmPLCcigCmlJDyygY9OSZJcxQSWOIKk8NiAv4Pn4BL5ugY7gv+AHwD0Ip7NACgHr5Sf6d/nzwKUgtcqrFVm5yeDKsA7xWN63GIKqJ2KY7tXhGKBS8ag4EENkRP4t1G+e9MisR55FQzZHlTzg2unSmJulNTkN+JTEneu5JJzm9WuavaAuuahwdoYeUDI3za0rEcLEUJoFjF2azeB8rbcu9WaIpcDTFoWtPCdoGIPCbdFrXwH509ixzTgkvhtJLBtaOlfWaqCY6QKDpsncwUbFQYob05RTrv4PNI1DMYqgTrySSLo/1iJF7WXBrsGjW13k0gzyAnsHFKNPGxsvrMr2AV7x8XqfiEfX1zBMKldR9qtteWE7rxiHXJSlsy7JbH5fVXxgCQ0d1m1RYTjwNkS6Lgam6ZV0LG2CCznooYJrGGfEwbaxOz7Efoemxj12m2HSgYQC+s8sWO+bxXkHrncEnqWKUfcF8TGZk0NFxPm1NuaICE41uLWrbZP4hj9xd7ZVAnaU+Nvwn4xeG978K/+5Rz8RnSCS4lBZWQpEB4IS++blingMkLCu5oeNyMoMhucNC3pUDeb3X3LnCAuDVvdegPYeuxQOfQHiZf2DXdR3odoaVa6RUBq872MsGjNU8AxRcQCt8AtcAvcArfA/Xs4MTejwok5GgGuEHM1BG6+UAjcH9SvAAMAy5K2QTwDnF4AAAAASUVORK5CYII="},37:function(e,t,a){e.exports=a(71)},42:function(e,t,a){},43:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},44:function(e,t,a){},45:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){e.exports=a.p+"static/media/poster1.d5f2a7f4.jpg"},69:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(17),c=a.n(s),i=(a(42),a(43),a(44),a(6)),o=a(7),u=a(9),l=a(8),d=a(10),p=(a(45),a(32)),h=a.n(p),A=a(33),E=a.n(A),m=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).openSearchBar=function(){e.setState({openSearchBar:!e.state.openSearchBar})},e.handleInputChange=function(t){e.props.emitSearchField(t.target.value)},e.getSearchBar=function(){var t;return e.state.openSearchBar&&(t=r.a.createElement("span",{className:"search-bar"},r.a.createElement("input",{placeholder:"Search Video",onChange:function(t){e.handleInputChange(t)}}))),t},e.state={openSearchBar:!1},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log(this.state.openSearchBar),r.a.createElement("div",{className:"Nav-Bar align-middle"},r.a.createElement("img",{className:"back-icon",src:h.a}),r.a.createElement("header",{className:"nav-header"},"Romantic Comedy"),r.a.createElement("div",{className:"search-bar-holder"},r.a.createElement("img",{src:E.a,className:"search-icon",onClick:this.openSearchBar}),this.getSearchBar()))}}]),t}(r.a.Component),O={GET_VIDEO_ACTION:"GET_VIDEO_ACTION",GET_VIDEO_DATA_SUCCESS:"GET_VIDEO_DATA_SUCCESS",SEARCH_VIDEO_ACTION:"SEARCH_VIDEO_ACTION",SEARCH_VIDEO_FROM_SERVER_ACTION:"SEARCH_VIDEO_FROM_SERVER_ACTION",SEARCH_VIDEO_SUCCESS_ACTION:"SEARCH_VIDEO_SUCCESS_ACTION",CLEAR_VIDEO_ACTION:"CLEAR_VIDEO_ACTION"},f=a(34),g=a.n(f),S={GET_VIDEO:{endPoint:"getVideoList",method:"GET",containsParams:!0},SEARCH_VIDEO:{endPoint:"searchVideo",method:"GET",containsParams:!0}};function v(e){switch(e.requestData.method){case"GET":return g.a.get(e.requestData.request.href).then(function(e){return e.data});default:return}}function C(e){var t=S[e.apiName],a=new URL("http://localhost:3000/api/"+t.endPoint);return t.containsParams&&e.params&&Object.keys(e.params).forEach(function(t,n){a.searchParams.append(t,e.params[t])}),{method:t.method,request:a}}function b(e){var t={apiName:"SEARCH_VIDEO"};t.params={searchParams:e};var a=C(t);return{type:O.SEARCH_VIDEO_FROM_SERVER_ACTION,requestData:a}}var R=a(16),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).setSearchField=function(e){var t;a.props.dispatch((t=e,{type:O.SEARCH_VIDEO_ACTION,searchParams:t}))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(m,{emitSearchField:this.setSearchField})}}]),t}(r.a.Component),_=Object(R.b)(null)(I),N=(a(67),a(68),a(69),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Video-Content col-sm-4 col-md-4 col-lg-3"},r.a.createElement("img",{src:this.props.imgUrl?this.props.imgUrl:"http://localhost:3000/empty.png",className:"Poster"}),r.a.createElement("span",{className:"Content-Header"},this.props.header))}}]),t}(r.a.Component)),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).removeScrollEventListener=function(){document.removeEventListener("scroll",a.trackScrolling)},a.trackScrolling=function(){var e=document.getElementById("videoContent");a.isBottom(e)&&!a.state.isLastSetOfData&&a.props.getVideoByPageNumber(Number(a.state.lastPageRequested)+1,20)},a.state={videoList:[],isLastSetOfData:!1,lastPageRequested:1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){0===this.props.videoList.length&&this.props.getVideoByPageNumber(this.state.lastPageRequested,20),document.addEventListener("scroll",this.trackScrolling)}},{key:"componentWillReceiveProps",value:function(e){this.setState({videoList:e.videoList,isLastSetOfData:e.isLastSetOfData,lastPageRequested:e.lastPageRequested})}},{key:"generateVideoContents",value:function(){return this.state.videoList.map(function(e){return r.a.createElement(N,{imgUrl:e.image_url,header:e.name})})}},{key:"isBottom",value:function(e){return e.getBoundingClientRect().bottom<=window.innerHeight+500}},{key:"componentWillUnmount",value:function(){this.removeScrollEventListener()}},{key:"render",value:function(){return r.a.createElement("div",{className:"Video-Holder row",id:"videoContent"},this.generateVideoContents())}}]),t}(r.a.Component);function V(e,t){var a={apiName:"GET_VIDEO"};a.params={pageNo:e,noOfData:t};var n=C(a);return{type:O.GET_VIDEO_ACTION,requestData:n}}function j(e){return{type:O.GET_VIDEO_DATA_SUCCESS,data:e}}var T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).getVideoByPageNumber=function(e,t){a.props.dispatch(V(e,t))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){""!==this.props.searchField&&""!==e.searchField&&this.props.searchField!==e.searchField&&0===e.videoList.length?this.props.dispatch(b(e.searchField)):""!==this.props.searchField&&""!==e.searchField&&this.props.searchField!==e.searchField?this.props.dispatch(b(e.searchField)):""!==this.props.searchField&&""===e.searchField&&(this.props.dispatch({type:O.CLEAR_VIDEO_ACTION}),this.props.dispatch(V(1,20)))}},{key:"render",value:function(){return r.a.createElement(D,{isLastSetOfData:this.props.isLastSetOfData,videoList:this.props.videoList,lastPageRequested:this.props.lastPageRequested,getVideoByPageNumber:this.getVideoByPageNumber})}}]),t}(r.a.Component);var L=Object(R.b)(function(e){return{searchField:e.searchField,isLastSetOfData:e.isLastSetOfData,lastPageRequested:e.lastPageRequested,videoList:e.searchField?e.videoList.filter(function(t){return t.name.toLowerCase().includes(e.searchField.toLowerCase())}):e.videoList}})(T),F=a(13),k=a(36),B={videoList:[],totalNoOfVideos:0,searchField:"",lastPageRequested:1,isLastSetOfData:!1};var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.GET_VIDEO_DATA_SUCCESS:return Object.assign({},e,{videoList:e.videoList.concat(t.data.contentItems.content),isLastSetOfData:t.data.isLastSetOfData,lastPageRequested:t.data.pageNumRequested});case O.SEARCH_VIDEO_SUCCESS_ACTION:return Object.assign({},e,{videoList:t.data});case O.SEARCH_VIDEO_ACTION:return Object.assign({},e,{searchField:t.searchParams});case O.CLEAR_VIDEO_ACTION:return Object.assign({},e,{videoList:[]});default:return e}},w=a(5),x=a.n(w),y=a(12),G=x.a.mark(q),U=x.a.mark(M),H=x.a.mark(Q),J=x.a.mark(Y),W=x.a.mark(Z);function q(e){var t;return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(y.a)(v,e);case 3:if(!(t=a.sent)){a.next=7;break}return a.next=7,Object(y.c)(j(t));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}},G,null,[[0,9]])}function M(e){var t;return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(y.a)(v,e);case 3:if(!(t=a.sent)){a.next=7;break}return a.next=7,Object(y.c)((n=t,{type:O.SEARCH_VIDEO_SUCCESS_ACTION,data:n}));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}var n},U,null,[[0,9]])}function Q(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.d)(O.SEARCH_VIDEO_FROM_SERVER_ACTION,M);case 2:case"end":return e.stop()}},H)}function Y(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.d)(O.GET_VIDEO_ACTION,q);case 2:case"end":return e.stop()}},J)}function Z(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.b)(Y);case 2:return e.next=4,Object(y.b)(Q);case 4:case"end":return e.stop()}},W)}var X=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=Object(k.a)(),t=Object(F.d)(P,Object(F.a)(e));return e.run(Z),t}(),K=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(R.a,{store:X},r.a.createElement(_,null),r.a.createElement(L,null)))};c.a.render(r.a.createElement(K,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.e5fe1000.chunk.js.map